<style type="text/css" media="screen">
  .iteration .card_list {
    list-style-type: decimal;
  }
  .card_title {
    width:200px;
  }
</style>

<%- @iterations.each_with_index do |iteration, index| -%>
<div id="iteration_<%= iteration.id %>" class='iteration'>
Iteration <%= index + 1 %>:
<%= iteration.start_date.to_s(:iteration_start_date) %> to <%= (iteration.start_date + (iteration.number_of_days - 1).days).to_s(:iteration_start_date)  %>
<ul class='card_list'>
  <%- iteration.cards.each do |card| -%>
  <li id="card_<%= card.id %>">
    <%- form_for(card, :method => :put) do -%>
      <span class='card_title'><%= card.title %></span>
      <%= submit_tag "Move to:" %> <%= select("card", "iteration_id", Iteration.all.reject{|i| i.id == card.iteration_id}.map { |iteration| ["Iteration: #{iteration.start_date.to_s(:iteration_start_date)}", iteration.id]})%>
    <%- end -%>
    </li>
  <%- end -%>
</ul>

</div>  
<%- end -%>